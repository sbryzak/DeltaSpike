<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/templates/default.xhtml">

    <ui:define name="sidebar">
        <ui:include src="menu.xhtml"/>
    </ui:define>

    <ui:define name="content">
        <p>This example demonstrates DeltaSpike's security features.</p>

        <h:form id="loginForm" rendered="#{not identity.loggedIn}">
            <h:messages id="messages" globalOnly="true"/>

            <div class="loginRow">
                <h:outputLabel for="name" value="Username" styleClass="loginLabel"/>
                <h:inputText id="name" value="#{loginCredentials.userId}"/>
            </div>

            <div class="loginRow">
                <h:outputLabel for="password" value="Password" styleClass="loginLabel"/>
                <h:inputSecret id="password" value="#{loginCredentials.password}" redisplay="true"/>
            </div>

            <div class="buttons">
                <h:commandButton id="login" value="LOGIN" action="#{identity.login}" styleClass="loginButton"/>
            </div>

            Tip: you can login with a username/password of demo/demo.
        </h:form>
        
        <h:form>
            <div>
              <h:commandButton action="#{modelPopulator.populate}" value="Populate database"/>
              (TODO - refactor this after DeltaSpike supports application initialization events)
            </div>
        </h:form>

        <br style="clear:both"/>

    </ui:define>
</ui:composition>
